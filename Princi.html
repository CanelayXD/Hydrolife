<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-V4WMSS4Y8K"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-V4WMSS4Y8K');
  </script>
  <title>Taz-ITAs</title>
  <meta name="description" content="Venta de tazas variadas.">
  <!-- Estilos CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <!-- Carrusel -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="Princi.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>

<body onload="inicializarUsuarios(); mostrarAlerta()">
  <!-- Navbar -->
  <div class="container_hed">
    <a class="navbar-brand" href="#"><img src="./imagenes/Logo.png" alt="Mi Logo" title="MiLog"></a>
    <div class="container mt-3">
      <form id="searchForm" class="form-inline my-2 my-lg-0 justify-content-center">
        <input class="form-control mr-sm-2 search-input" type="search" placeholder="Buscar producto" aria-label="Search" id="searchInput">
        <button class="btn btn-outline-success my-2 my-sm-0" type="button" id="searchButton" style=" background-color: rgb(207, 207, 207); border-color: rgb(207, 207, 207);"><i class="fas fa-search" style="color: grey;"></i></button>
        <a class="nav-link" href="carrito.html"><i class="fas fa-shopping-cart fa-2x icon_car" style="color: black;"></i></a>
      </form>
      </div>
   </div> 
  <nav class="navbar navbar-expand-lg navbar-light bg-light mt-3" style="background-color: #2fe748;">
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse justify-content-center" id="navbarNav" style="background-color: #2fe748;">
      <ul class="navbar-nav w-100 justify-content-around">
        <li class="nav-item custom-item">
          <a class="nav-link custom-link text-center" href="Princi.html">Inicio</a>
        </li>
        <li class="nav-item custom-item">
          <a class="nav-link custom-link text-center" href="#producte">Productos</a>
        </li>
        <li class="nav-item custom-item">
          <a class="nav-link custom-link text-center" href="LoginAdm.html">Administrador</a>
        </li>
      </ul>
    </div>
  </nav>

  <!-- Contenido -->
  <h2 id="producte" class="Subtitle">---------------Productos---------------</h2>
  <div class="container">
    <div class="row mb-4">
      <div class="col">
        <!-- Fin de la barra de busqueda -->
        <button id="sortAZButton" class="btn btn-primary mb-4" style="background-color: #2fe748;" style="border: 2px #2fe748;">Ordenar por Nombre (A-Z)</button>
        <button id="sortZAButton" class="btn btn-primary mb-4" style="background-color: #2fe748;" style="border: 2px #2fe748;">Ordenar por Nombre (Z-A)</button>
      </div>
    </div>
    <!-- Compoenete para agregar desde el admin -->

    <div id="productList">
      <!-- Las tarjetas se agregarán dinámicamente con JavaScript -->
    </div>

    <div class="contenedor-tarjetas row" id ="productContainer">
      <!-- Las tarjetas de productos se renderizarán aquí -->
    </div>


    <!-- ---------------- -->

    <!-- Componente para mandar mensaje -->
    <div class="comment-input">
      <input type="text" id="comment-box" placeholder="Mandanos mensaje">
      <button id="submit-button">Enviar</button>
    </div>
    <script>
      const commentBox = document.getElementById('comment-box');
      const submitButton = document.getElementById('submit-button');

      submitButton.addEventListener('click', () => {
        const comment = commentBox.value.trim();

        if (comment) {
          console.log('Comment submitted:', comment);
          commentBox.value = '';
        }
      });
    </script>
  </div>

  <!-- Panel de administrador -->
  <div id="adminPanel">
    <!-- Formulario de administrador -->
  </div>


  <!-- Footer -->
  <footer id="Foot" class="footer">
    <div class="container">
      <div class="row">
        <div class="col-md-3">
          <h4>Información</h4>
          <ul>
            <li><a href="#">Sobre nosotros</a></li>
            <li><a href="#">Contacto</a></li>
            <li><a href="Terminos_Condi.html">Términos y condiciones</a></li>
            <li><a href="Politica.html">Política de privacidad</a></li>
          </ul>
        </div>
        <div class="col-md-3">
          <h4>Clientes</h4>
          <ul>
            <li><a href="#">Mi cuenta</a></li>
            <li><a href="#">Historial de pedidos</a></li>
            <li><a href="#">Wishlist</a></li>
          </ul>
        </div>
        <div class="col-md-3">
          <h4>Soporte</h4>
          <ul>
            <li><a href="#">Preguntas frecuentes</a></li>
            <li><a href="#">Política de reembolso</a></li>
            <li><a href="#">Métodos de pago</a></li>
            <li><a href="#">Soporte técnico</a></li>
          </ul>
        </div>
        <div class="col-md-3">
          <h4>Redes sociales</h4>
          <ul>
            <li><a href="https://www.facebook.com/profile.php?id=61558889497777&mibextid=LQQJ4d">Facebook</a></li>
            <li><a href="#">Twitter</a></li>
            <li><a href="https://www.instagram.com/limpieza_pluss?igsh=ZWVueGcyMWhsMmFw">Instagram</a></li>
          </ul>
        </div>
      </div>
    </div>
  </footer>

  <!-- JavaScript y JQuery -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <!-- Carrusel -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
  <script src="Principal.js"></script>
  <script src="Productos.js"></script>
  <script>
    function inicializarUsuarios() {
      fetch('data/usuarios.json')
        .then(response => response.json())
        .then(data => {
          const usuarios = [...data.admin, ...data.customer]; // Combina los dos arrays en uno solo
          localStorage.setItem('usuarios', JSON.stringify(usuarios));
          console.log('Usuarios cargados en localStorage:', usuarios);
        })
        .catch(error => console.error('Error al cargar usuarios:', error));
    }

  </script>

  <script>
    // Función para cargar y renderizar los productos
    function loadProducts() {
      loadProductsFromLocalStorage(); // Cargar productos desde el almacenamiento local
      const productList = document.getElementById("productList");
      productList.innerHTML = ""; // Limpiar el contenido previo
  
      // Verificar si hay productos disponibles
      if (typeof products === 'undefined' || products.length === 0) {
        console.log('No hay productos disponibles.');
        return;
      }
  
      // Iterar sobre cada producto y renderizarlo en la página
      products.forEach(product => {
        const productCard = document.createElement("div");
        productCard.classList.add("product-card");
  
        const productImage = document.createElement("img");
        productImage.src = product.image;
        productImage.alt = product.name;
  
        const productDetails = document.createElement("div");
        productDetails.classList.add("product-details");
  
        const productName = document.createElement("h3");
        productName.textContent = product.name;
  
        const productPrice = document.createElement("p");
        productPrice.textContent = `Precio: $${product.price}`;
  
        // Añadir los elementos creados a las tarjetas y luego al contenedor
        productDetails.appendChild(productName);
        productDetails.appendChild(productPrice);
        productCard.appendChild(productImage);
        productCard.appendChild(productDetails);
        productList.appendChild(productCard);
  
        // Muestra el producto en la consola
        console.log('Producto:', {
          nombre: product.name,
          precio: product.price,
          imagen: product.image
        });
      });
    }
  
    // Ejemplo de cómo podría ser la función loadProductsFromLocalStorage
    function loadProductsFromLocalStorage() {
      // Simulación de carga de productos desde localStorage
      const storedProducts = localStorage.getItem('products');
      if (storedProducts) {
        products = JSON.parse(storedProducts);
      } else {
        products = []; // Si no hay productos en localStorage, inicializa un array vacío.
      }
    }
  
    // Llamar a la función para cargar y mostrar los productos
    loadProducts();
    localStorage.removeItem('products'); // Elimina los productos del almacenamiento local después de cargarlos
  </script>
  

</body>

</html>
